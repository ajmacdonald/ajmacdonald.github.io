<html>
    <head>
        <title>Tap for Beats Per Minute BPM</title>
<script>
<!-- adapted from: www.all8.com/tools/bpm.htm -->
var WAIT_RESET = 1;
var count = 0;
var msecsFirst = 0;
var msecsPrevious = 0;

function TapForBPM(e) {
    var msecs = new Date().getTime();
    if ((msecs - msecsPrevious) > 1000 * WAIT_RESET) { count = 0; }
    if (count == 0) { msecsFirst = msecs; }

    var bpmAvg = 60000 * count / (msecs - msecsFirst);
    if (isNaN(bpmAvg)) bpmAvg = 0;
    document.TAP_DISPLAY.T_AVG.value = Math.round(bpmAvg * 100) / 100;
    document.TAP_DISPLAY.T_WHOLE.value = Math.round(bpmAvg);
    count++;
    document.TAP_DISPLAY.T_TAP.value = count;
    msecsPrevious = msecs;
}
document.onkeypress = TapForBPM;
</script>
<style>
body {
	height: 100%; display: grid; margin: 0; padding: 0;
}
body, input {
	font: 16px cambria, consolas, arial; 
	color: #adbac7; background-color: #22272e;
}
form {
	margin: auto;
}
label {
	color: #596e82;
	display: block;
	margin: 0 0 5px 0;
}
input {
	border: 0;
}
</style>
    </head>
<body>
<form name="TAP_DISPLAY">
    <label>Average BPM: <input readonly name="T_AVG"/></label>
    <label>Nearest Whole: <input readonly name="T_WHOLE"/></label>
    <label>Timing Taps: <input readonly name="T_TAP"/></label>
</form>
</body>
</html>
